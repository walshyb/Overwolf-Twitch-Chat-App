<!DOCTYPE html>
<html>
	<head> 
		<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
		<title>Twitch Chat</title>
        <link rel="stylesheet" href="jquery.mobile-1.4.5.min.css">
        <link rel="stylesheet" href="style.css">
        <script src="jquery.min.js"></script>
        <script src="jquery.mobile-1.4.5.min.js"></script>
		<script>
			function dragResize(edge){
				overwolf.windows.getCurrentWindow(function(result){
					if (result.status=="success"){
						overwolf.windows.dragResize(result.window.id, edge);
					}
				});
			};
			
			function dragMove(){
				overwolf.windows.getCurrentWindow(function(result){
					if (result.status=="success"){
						overwolf.windows.dragMove(result.window.id);
					}
				});
			};
			
			function closeWindow(){
				overwolf.windows.getCurrentWindow(function(result){
					if (result.status=="success"){
						overwolf.windows.close(result.window.id);
					}
				});
			};
			
			function takeScreenshot(){
				overwolf.media.takeScreenshot(function(result){
					if (result.status == "success"){
						var img = document.getElementById("screenshot");
						img.src = result.url;
						img.onload = function() {
							overwolf.media.shareImage(img, "Screen Shot");
						};
					}
				});
			}
            
            
		</script>
	</head>

	<body>
		<div class="resizeGrip" id="resizeGripTopLeft" onmousedown="dragResize('TopLeft');"></div>
		<div class="resizeGrip" id="resizeGripTop" onmousedown="dragResize('Top');"></div>
		<div class="resizeGrip" id="resizeGripTopRight" onmousedown="dragResize('TopRight');"></div>
		<div class="resizeGrip" id="resizeGripRight" onmousedown="dragResize('Right');"></div>
		<div class="resizeGrip" id="resizeGripBottomRight" onmousedown="dragResize('BottomRight');"></div>
		<div class="resizeGrip" id="resizeGripBottom" onmousedown="dragResize('Bottom');"></div>
		<div class="resizeGrip" id="resizeGripBottomLeft" onmousedown="dragResize('BottomLeft');"></div>
		<div class="resizeGrip" id="resizeGripLeft" onmousedown="dragResize('Left');"></div>
		<div id="content" onmousedown="dragMove();">
            
			<h1>Twitch Chat:</h1>
			<p>Enter the name of a streamer:</p>
            
            <form id="streamer-name-form" method="post">
                <label for="streamer-name">Username: </label>
                <input type="text" id="streamer-name" name="streamer-name" placeholder="Username">
                <input type="submit" value="Submit">
            </form>
            
            <div id="scriptContainer"></div>
            
            <br>
            
			<button id="close" onclick="closeWindow();">Close</button>
			<button onclick="takeScreenshot();">Take Screenshot</button>
			<button id="open-subwindow" onclick="openSubWindow();">Open Sub-Window</button>
			<img id="screenshot" width="300px"></img>
		</div>
	</body>
    <script src="functions.js"></script>

</html>